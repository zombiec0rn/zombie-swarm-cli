version: 1
swarm: asbjornenge

services:
  default:
    dns:
      - 10.191.10.55
  gateway:
    placement:
      - gateway
    image: asbjornenge/gateway:1.0.0
    ports:
      - "80:80"
    driver: docker
  external-dns:
    placement:
      - gateway
    image: asbjornenge/external-dns:1.0.0
    ports:
      - "53:53"
    driver: docker
  dns:
    placement:
      - dns-host
    image: asbjornenge/dns:1.0.0
    ports:
      - "53:53"
    driver: docker
  registry:
    placement:
        - registry-disk
    image: docker/registry:2.3
    driver: docker

  # ReadLink
  readlink-app:
    image: asbjornenge/readlink-app:1.0.0  
  readlink-api:
    image: asbjornenge/readlink-api:1.0.0  

  # ClubHut
  clubhut-app:
    image: asbjornenge/clubhut-app:1.0.0 

